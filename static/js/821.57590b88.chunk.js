"use strict";(self.webpackChunkrestaurant_management=self.webpackChunkrestaurant_management||[]).push([[821],{8004:(t,e,s)=>{s.d(e,{Tz:()=>h,l$:()=>r,GK:()=>o,Vy:()=>n,gS:()=>l});var i=s(7503);const a=s(7154).A.create({baseURL:"https://codx-json-server.vercel.app"}),r=async()=>{try{return(await a.get("/api/tables")).data}catch(t){i.oR.error("Somthing Wrong!")}},n=async t=>{try{return(await a.get("/api/tables/"+t)).data}catch(e){i.oR.error("Somthing Wrong!")}},o=async t=>{try{return(await a.get("/api/tables?status=Available")).data.filter((e=>e.seating_capacity>=t))}catch(e){i.oR.error("Somthing Wrong!")}},l=async()=>{try{return(await a.get("/api/tables?status=Booked")).data}catch(t){i.oR.error("Somthing Wrong!")}},h=async t=>{let{id:e,data:s}=t;try{return(await a.patch("/api/tables/"+e,s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data}catch(r){i.oR.error("Somthing Wrong!")}}},3821:(t,e,s)=>{s.r(e),s.d(e,{default:()=>y});s(5043);var i=s(2110),a=s(6446),r=s(5865),n=s(1906),o=s(7392),l=s(5475),h=s(9662),c=s(579);const d=(0,h.A)((0,c.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),u=t=>{let{OrderData:e}=t;const{data:s,deleteBookingMutation:h}=e;return(0,c.jsxs)(i.A,{variant:"outlined",className:"order-card",children:[(0,c.jsxs)(a.A,{children:[(0,c.jsx)(r.A,{variant:"h6",component:"div",children:s.reservation.name}),(0,c.jsxs)(r.A,{component:"p",children:["Order : ",s.reservation.Order]}),(0,c.jsxs)(r.A,{component:"p",children:["Table  : ",s.table_no]})]}),(0,c.jsx)(l.N_,{to:"".concat(s.id),children:(0,c.jsx)(n.A,{color:"secondary",variant:"outlined",children:"view Table"})}),(0,c.jsx)(o.A,{onClick:()=>{return t=s.id,void h({id:t,data:{reservation:{},status:"Available"}});var t},size:"small",children:(0,c.jsx)(d,{})})]})};var v=s(8004),A=s(3248),p=s(3747),g=s(7097),m=s(8033),b=s(7503);const y=()=>{const t=(0,A.jE)(),{isLoading:e,data:s}=(0,p.I)({queryKey:["booking"],queryFn:v.gS}),{mutateAsync:i}=(0,g.n)({mutationFn:v.Tz,onSuccess:()=>{t.invalidateQueries(["booking"]),b.oR.error("Table Booking Cancel!")}}),n=s||[];return(0,c.jsxs)(a.A,{className:"orders",children:[(0,c.jsx)(r.A,{className:"first-title",variant:"h6",children:"Orders"}),(0,c.jsx)(r.A,{className:"second-title",variant:"h4",children:"Your Journey to Flavor Begins Here!"}),(0,c.jsxs)(a.A,{className:"orders-container",children:[e&&(0,c.jsx)(m.A,{}),n.length?n.map(((t,e)=>(0,c.jsx)(u,{OrderData:{data:t,deleteBookingMutation:i}},e))):(0,c.jsx)(r.A,{sx:{textAlign:"center",color:"lightgray",fontSize:"30px",padding:"40px 0"},component:"p",children:" No Bookings Found"})]})]})}},7097:(t,e,s)=>{s.d(e,{n:()=>k});var i,a,r,n,o,l=s(5043),h=s(9790),c=s(5149),d=s(8458),u=s(6562),v=s(4558),A=s(5239),p=s(1454),g=s(329),m=s(9723),b=(i=new WeakMap,a=new WeakMap,r=new WeakMap,n=new WeakMap,o=new WeakSet,class extends g.Q{constructor(t,e){super(),(0,h.A)(this,o),(0,c.A)(this,i,void 0),(0,c.A)(this,a,void 0),(0,c.A)(this,r,void 0),(0,c.A)(this,n,void 0),(0,v.A)(i,this,t),this.setOptions(e),this.bindMethods(),(0,u.A)(o,this,y).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;const s=this.options;this.options=(0,d.A)(i,this).defaultMutationOptions(t),(0,m.f8)(this.options,s)||(0,d.A)(i,this).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,d.A)(r,this),observer:this}),null!==s&&void 0!==s&&s.mutationKey&&this.options.mutationKey&&(0,m.EN)(s.mutationKey)!==(0,m.EN)(this.options.mutationKey)?this.reset():"pending"===(null===(e=(0,d.A)(r,this))||void 0===e?void 0:e.state.status)&&(0,d.A)(r,this).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(null===(t=(0,d.A)(r,this))||void 0===t||t.removeObserver(this))}onMutationUpdate(t){(0,u.A)(o,this,y).call(this),(0,u.A)(o,this,x).call(this,t)}getCurrentResult(){return(0,d.A)(a,this)}reset(){var t;null===(t=(0,d.A)(r,this))||void 0===t||t.removeObserver(this),(0,v.A)(r,this,void 0),(0,u.A)(o,this,y).call(this),(0,u.A)(o,this,x).call(this)}mutate(t,e){var s;return(0,v.A)(n,this,e),null===(s=(0,d.A)(r,this))||void 0===s||s.removeObserver(this),(0,v.A)(r,this,(0,d.A)(i,this).getMutationCache().build((0,d.A)(i,this),this.options)),(0,d.A)(r,this).addObserver(this),(0,d.A)(r,this).execute(t)}});function y(){var t,e;const s=null!==(t=null===(e=(0,d.A)(r,this))||void 0===e?void 0:e.state)&&void 0!==t?t:(0,A.$)();(0,v.A)(a,this,{...s,isPending:"pending"===s.status,isSuccess:"success"===s.status,isError:"error"===s.status,isIdle:"idle"===s.status,mutate:this.mutate,reset:this.reset})}function x(t){p.j.batch((()=>{if((0,d.A)(n,this)&&this.hasListeners()){const u=(0,d.A)(a,this).variables,v=(0,d.A)(a,this).context;var e,s,i,r;if("success"===(null===t||void 0===t?void 0:t.type))null===(e=(s=(0,d.A)(n,this)).onSuccess)||void 0===e||e.call(s,t.data,u,v),null===(i=(r=(0,d.A)(n,this)).onSettled)||void 0===i||i.call(r,t.data,null,u,v);else if("error"===(null===t||void 0===t?void 0:t.type)){var o,l,h,c;null===(o=(l=(0,d.A)(n,this)).onError)||void 0===o||o.call(l,t.error,u,v),null===(h=(c=(0,d.A)(n,this)).onSettled)||void 0===h||h.call(c,void 0,t.error,u,v)}}this.listeners.forEach((t=>{t((0,d.A)(a,this))}))}))}var j=s(3248),f=s(3247);function k(t,e){const s=(0,j.jE)(e),[i]=l.useState((()=>new b(s,t)));l.useEffect((()=>{i.setOptions(t)}),[i,t]);const a=l.useSyncExternalStore(l.useCallback((t=>i.subscribe(p.j.batchCalls(t))),[i]),(()=>i.getCurrentResult()),(()=>i.getCurrentResult())),r=l.useCallback(((t,e)=>{i.mutate(t,e).catch(f.l)}),[i]);if(a.error&&(0,f.G)(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:r,mutateAsync:a.mutate}}}}]);
//# sourceMappingURL=821.57590b88.chunk.js.map