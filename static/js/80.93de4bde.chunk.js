"use strict";(self.webpackChunkrestaurant_management=self.webpackChunkrestaurant_management||[]).push([[80],{8004:(t,e,s)=>{s.d(e,{Tz:()=>c,l$:()=>a,GK:()=>o,Vy:()=>r,gS:()=>l});var i=s(7503);const n=s(7154).A.create({baseURL:"https://codx-json-server.vercel.app"}),a=async()=>{try{return(await n.get("/api/tables")).data}catch(t){i.oR.error("Somthing Wrong!")}},r=async t=>{try{return(await n.get("/api/tables/"+t)).data}catch(e){i.oR.error("Somthing Wrong!")}},o=async t=>{try{return(await n.get("/api/tables?status=Available")).data.filter((e=>e.seating_capacity>=t))}catch(e){i.oR.error("Somthing Wrong!")}},l=async()=>{try{return(await n.get("/api/tables?status=Booked")).data}catch(t){i.oR.error("Somthing Wrong!")}},c=async t=>{let{id:e,data:s}=t;try{return(await n.patch("/api/tables/"+e,s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data}catch(a){i.oR.error("Somthing Wrong!")}}},7080:(t,e,s)=>{s.r(e),s.d(e,{default:()=>A});var i=s(6446),n=s(5865),a=s(2110),r=s(1906),o=(s(5043),s(835)),l=s(8004),c=s(3248),h=s(3747),d=s(7097),u=s(8033),p=s(7503),v=s(579);const A=()=>{const t=(0,o.Zp)(),e=(0,c.jE)();let{id:s}=(0,o.g)();const{isLoading:A,data:m}=(0,h.I)({queryKey:["table-Details"],queryFn:()=>(0,l.Vy)(s)}),{mutateAsync:b}=(0,d.n)({mutationFn:l.Tz,onSuccess:()=>{e.invalidateQueries(["table"]),p.oR.error("Table Booking Cancel!")}});return(0,v.jsxs)(i.A,{className:"OrderDetail",children:[(0,v.jsx)(n.A,{className:"first-title",variant:"h6",children:"Summary"}),(0,v.jsx)(n.A,{className:"second-title",variant:"h4",children:"Discover Our Flavorful Symphony!"}),A&&(0,v.jsx)(u.A,{}),m?(0,v.jsxs)(a.A,{className:"detail-card",variant:"outlined",children:[(0,v.jsx)(n.A,{variant:"h6",align:"center",padding:1,component:"div",children:"Booking Summary"}),(0,v.jsxs)(n.A,{component:"li",children:["Order : ",m.reservation.Order]}),(0,v.jsxs)(n.A,{component:"li",children:["Table : ",m.table_no]}),(0,v.jsxs)(n.A,{component:"p",children:["Name : ",m.reservation.name]}),(0,v.jsxs)(n.A,{component:"p",children:["Email : ",m.reservation.email]}),(0,v.jsxs)(n.A,{component:"p",children:["Mobile : ",m.reservation.mobile]}),(0,v.jsxs)(n.A,{component:"p",children:["Check-In : ",m.reservation.checkIn]}),(0,v.jsxs)(n.A,{component:"p",children:["Time : ",m.reservation.time]}),(0,v.jsxs)(n.A,{component:"p",children:["Guest : ",m.reservation.guest]}),(0,v.jsxs)(n.A,{component:"p",children:["Booked : ",m.reservation.booked]}),(0,v.jsxs)(n.A,{component:"p",children:["Status : ",m.status]}),(0,v.jsx)(i.A,{sx:{display:"flex",alignItems:"center",padding:1,justifyContent:"end"},children:(0,v.jsx)(r.A,{onClick:()=>(e=>{b({id:e,data:{reservation:{},status:"Available"}}),t("/orders")})(m.id),color:"error",type:"button",variant:"contained",children:"Cancel Booking"})})]}):(0,v.jsx)(n.A,{children:"No Items Found"})]})}},7097:(t,e,s)=>{s.d(e,{n:()=>k});var i,n,a,r,o,l=s(5043),c=s(9790),h=s(5149),d=s(8458),u=s(6562),p=s(4558),v=s(5239),A=s(1454),m=s(329),b=s(9723),g=(i=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,o=new WeakSet,class extends m.Q{constructor(t,e){super(),(0,c.A)(this,o),(0,h.A)(this,i,void 0),(0,h.A)(this,n,void 0),(0,h.A)(this,a,void 0),(0,h.A)(this,r,void 0),(0,p.A)(i,this,t),this.setOptions(e),this.bindMethods(),(0,u.A)(o,this,y).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;const s=this.options;this.options=(0,d.A)(i,this).defaultMutationOptions(t),(0,b.f8)(this.options,s)||(0,d.A)(i,this).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,d.A)(a,this),observer:this}),null!==s&&void 0!==s&&s.mutationKey&&this.options.mutationKey&&(0,b.EN)(s.mutationKey)!==(0,b.EN)(this.options.mutationKey)?this.reset():"pending"===(null===(e=(0,d.A)(a,this))||void 0===e?void 0:e.state.status)&&(0,d.A)(a,this).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(null===(t=(0,d.A)(a,this))||void 0===t||t.removeObserver(this))}onMutationUpdate(t){(0,u.A)(o,this,y).call(this),(0,u.A)(o,this,j).call(this,t)}getCurrentResult(){return(0,d.A)(n,this)}reset(){var t;null===(t=(0,d.A)(a,this))||void 0===t||t.removeObserver(this),(0,p.A)(a,this,void 0),(0,u.A)(o,this,y).call(this),(0,u.A)(o,this,j).call(this)}mutate(t,e){var s;return(0,p.A)(r,this,e),null===(s=(0,d.A)(a,this))||void 0===s||s.removeObserver(this),(0,p.A)(a,this,(0,d.A)(i,this).getMutationCache().build((0,d.A)(i,this),this.options)),(0,d.A)(a,this).addObserver(this),(0,d.A)(a,this).execute(t)}});function y(){var t,e;const s=null!==(t=null===(e=(0,d.A)(a,this))||void 0===e?void 0:e.state)&&void 0!==t?t:(0,v.$)();(0,p.A)(n,this,{...s,isPending:"pending"===s.status,isSuccess:"success"===s.status,isError:"error"===s.status,isIdle:"idle"===s.status,mutate:this.mutate,reset:this.reset})}function j(t){A.j.batch((()=>{if((0,d.A)(r,this)&&this.hasListeners()){const u=(0,d.A)(n,this).variables,p=(0,d.A)(n,this).context;var e,s,i,a;if("success"===(null===t||void 0===t?void 0:t.type))null===(e=(s=(0,d.A)(r,this)).onSuccess)||void 0===e||e.call(s,t.data,u,p),null===(i=(a=(0,d.A)(r,this)).onSettled)||void 0===i||i.call(a,t.data,null,u,p);else if("error"===(null===t||void 0===t?void 0:t.type)){var o,l,c,h;null===(o=(l=(0,d.A)(r,this)).onError)||void 0===o||o.call(l,t.error,u,p),null===(c=(h=(0,d.A)(r,this)).onSettled)||void 0===c||c.call(h,void 0,t.error,u,p)}}this.listeners.forEach((t=>{t((0,d.A)(n,this))}))}))}var x=s(3248),f=s(3247);function k(t,e){const s=(0,x.jE)(e),[i]=l.useState((()=>new g(s,t)));l.useEffect((()=>{i.setOptions(t)}),[i,t]);const n=l.useSyncExternalStore(l.useCallback((t=>i.subscribe(A.j.batchCalls(t))),[i]),(()=>i.getCurrentResult()),(()=>i.getCurrentResult())),a=l.useCallback(((t,e)=>{i.mutate(t,e).catch(f.l)}),[i]);if(n.error&&(0,f.G)(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:a,mutateAsync:n.mutate}}}}]);
//# sourceMappingURL=80.93de4bde.chunk.js.map